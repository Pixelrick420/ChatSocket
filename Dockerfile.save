# Use a lightweight Linux image with gcc
FROM gcc:latest

# Install any additional dependencies if needed
RUN apt-get update && apt-get install -y \
    && rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /app

# Copy Utils directory
COPY Utils/ ./Utils/

# Copy Server directory
COPY Server/server.c ./

# Compile the server
RUN gcc server.c Utils/socketUtil.c Utils/sha256.c -o server

# Expose the port (change if your server uses a different port)
EXPOSE 8080

# Run the server
CMD ["./server"
